{"level":"error","message":"JWT Verification Error:","timestamp":"2024-08-30T16:00:49.969Z"}
{"level":"error","message":"JWT Verification Error:","timestamp":"2024-08-30T16:04:25.833Z"}
{"clientVersion":"5.10.2","level":"error","message":"Erreur lors de la suppression de l'élément de la liste : \nInvalid `prisma.item.deleteMany()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\controllers\\listController.js:141:36\n\n  138 const userId = req.user.userId;\n  139 const tmdbId = parseInt(req.query.tmdbId);\n  140 try {\n→ 141   const item = await prisma.item.deleteMany({\n          where: {\n            listId: \"2ba19595-da56-47fe-ab35-d2711f5fa869\",\n        +   tmdbId: {\n        +     equals: Int | IntFieldRefInput,\n        +     in: Int[] | ListIntFieldRefInput,\n        +     notIn: Int[] | ListIntFieldRefInput,\n        +     lt: Int | IntFieldRefInput,\n        +     lte: Int | IntFieldRefInput,\n        +     gt: Int | IntFieldRefInput,\n        +     gte: Int | IntFieldRefInput,\n        +     not: Int | NestedIntFilter\n        +   }\n          }\n        })\n\nArgument `tmdbId` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.item.deleteMany()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\controllers\\listController.js:141:36\n\n  138 const userId = req.user.userId;\n  139 const tmdbId = parseInt(req.query.tmdbId);\n  140 try {\n→ 141   const item = await prisma.item.deleteMany({\n          where: {\n            listId: \"2ba19595-da56-47fe-ab35-d2711f5fa869\",\n        +   tmdbId: {\n        +     equals: Int | IntFieldRefInput,\n        +     in: Int[] | ListIntFieldRefInput,\n        +     notIn: Int[] | ListIntFieldRefInput,\n        +     lt: Int | IntFieldRefInput,\n        +     lte: Int | IntFieldRefInput,\n        +     gt: Int | IntFieldRefInput,\n        +     gte: Int | IntFieldRefInput,\n        +     not: Int | NestedIntFilter\n        +   }\n          }\n        })\n\nArgument `tmdbId` is missing.\n    at Cn (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at _n.handleRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6510)\n    at _n.handleAndLogRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6188)\n    at _n.request (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:5896)\n    at async l (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:128:10871)\n    at async removeItemFromList (D:\\woorkspace\\Showcial-tv\\server\\controllers\\listController.js:141:18)","timestamp":"2024-09-02T10:01:03.769Z"}
{"clientVersion":"5.10.2","level":"error","message":"Erreur lors de la récupération des items : \nInvalid `prisma.item.findMany()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\controllers\\listController.js:450:37\n\n  447   return res.status(400).json({ error: 'Missing item ids' });\n  448 }\n  449 \n→ 450 const items = await prisma.item.findMany({\n        where: {\n          id: {\n            in: \"23922758-ce6f-42f1-8df7-09d5c2d0754b,be3f5c31-897c-48ba-b8fc-ac781f82ea53\"\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n          }\n        },\n        include: {\n          list: {\n            select: {\n              name: true\n            }\n          }\n        }\n      })\n\nArgument `in`: Invalid value provided. Expected String[] or ListStringFieldRefInput, provided String.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.item.findMany()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\controllers\\listController.js:450:37\n\n  447   return res.status(400).json({ error: 'Missing item ids' });\n  448 }\n  449 \n→ 450 const items = await prisma.item.findMany({\n        where: {\n          id: {\n            in: \"23922758-ce6f-42f1-8df7-09d5c2d0754b,be3f5c31-897c-48ba-b8fc-ac781f82ea53\"\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n          }\n        },\n        include: {\n          list: {\n            select: {\n              name: true\n            }\n          }\n        }\n      })\n\nArgument `in`: Invalid value provided. Expected String[] or ListStringFieldRefInput, provided String.\n    at Cn (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at _n.handleRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6510)\n    at _n.handleAndLogRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6188)\n    at _n.request (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:5896)\n    at async l (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:128:10871)\n    at async getItemsById (D:\\woorkspace\\Showcial-tv\\server\\controllers\\listController.js:450:19)","timestamp":"2024-09-02T11:00:34.438Z"}
{"clientVersion":"5.10.2","code":"P2003","level":"error","message":"Erreur lors de la suppression du compte : \nInvalid `prisma.user.delete()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\controllers\\userController.js:375:29\n\n  372 \n  373 try {\n  374   // Supprime l'utilisateur (et tout ce qui est associé via cascade)\n→ 375   await prisma.user.delete(\nForeign key constraint failed on the field: `(not available)`","meta":{"field_name":"(not available)","modelName":"User"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.user.delete()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\controllers\\userController.js:375:29\n\n  372 \n  373 try {\n  374   // Supprime l'utilisateur (et tout ce qui est associé via cascade)\n→ 375   await prisma.user.delete(\nForeign key constraint failed on the field: `(not available)`\n    at _n.handleRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6854)\n    at _n.handleAndLogRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6188)\n    at _n.request (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:5896)\n    at async l (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:128:10871)\n    at async deleteAccount (D:\\woorkspace\\Showcial-tv\\server\\controllers\\userController.js:375:5)","timestamp":"2024-09-02T17:28:32.531Z"}
{"level":"error","message":"Erreur lors de la récupération de l'utilisateur et de ses listes : Cannot destructure property 'password' of 'user' as it is null.","stack":"TypeError: Cannot destructure property 'password' of 'user' as it is null.\n    at getUserById (D:\\woorkspace\\Showcial-tv\\server\\models\\users.js:15:11)\n    at async Promise.all (index 0)\n    at async getUserLists (D:\\woorkspace\\Showcial-tv\\server\\controllers\\userController.js:60:29)","timestamp":"2024-09-02T17:32:26.522Z"}
{"clientVersion":"5.10.2","level":"error","message":"Erreur lors de la récupération de l'utilisateur et de ses activités : \nInvalid `prisma.activity.findMany()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\models\\activity.js:10:44\n\n   7  * @returns all activities for users\n   8  */\n   9 async function getActivitiesForUsers(followedUsersIds) {\n→ 10   const activities = await prisma.activity.findMany({\n         where: {\n           userId: {\n             in: \"243efb62-9e4f-4c6e-809d-85cd45c51451\"\n                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n           }\n         },\n         include: {\n           user: {\n             select: {\n               username: true\n             }\n           }\n         },\n         orderBy: {\n           createdAt: \"desc\"\n         }\n       })\n\nArgument `in`: Invalid value provided. Expected String[] or ListStringFieldRefInput, provided String.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.activity.findMany()` invocation in\nD:\\woorkspace\\Showcial-tv\\server\\models\\activity.js:10:44\n\n   7  * @returns all activities for users\n   8  */\n   9 async function getActivitiesForUsers(followedUsersIds) {\n→ 10   const activities = await prisma.activity.findMany({\n         where: {\n           userId: {\n             in: \"243efb62-9e4f-4c6e-809d-85cd45c51451\"\n                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n           }\n         },\n         include: {\n           user: {\n             select: {\n               username: true\n             }\n           }\n         },\n         orderBy: {\n           createdAt: \"desc\"\n         }\n       })\n\nArgument `in`: Invalid value provided. Expected String[] or ListStringFieldRefInput, provided String.\n    at Cn (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at _n.handleRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6510)\n    at _n.handleAndLogRequestError (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:6188)\n    at _n.request (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:123:5896)\n    at async l (D:\\woorkspace\\Showcial-tv\\server\\node_modules\\@prisma\\client\\runtime\\library.js:128:10871)\n    at async getActivitiesForUsers (D:\\woorkspace\\Showcial-tv\\server\\models\\activity.js:10:22)\n    at async Promise.all (index 0)\n    at async getActivities (D:\\woorkspace\\Showcial-tv\\server\\controllers\\activityController.js:21:24)","timestamp":"2024-09-03T12:07:28.945Z"}
